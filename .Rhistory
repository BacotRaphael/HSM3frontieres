rsconnect::deployApp(".",account = "h2r-bkf-mali-ner")
rsconnect::deployApp(".",account = "h2r-bkf-mali-ner")
rsconnect::setAccountInfo(name='h2r-bkf-mali-ner', token='F287EC0E9F5F6BFABEF2760F89EFAD99', secret='BvDdtNJIr74UZPWnTHXvXhYK3y27MiryCEKqzUyS')
rsconnect::deployApp("./")
rsconnect::deployApp(".",account = "h2r-bkf-mali-ner")
rsconnect::setAccountInfo(name='h2r-bkf-mali-ner', token='F287EC0E9F5F6BFABEF2760F89EFAD99', secret='BvDdtNJIr74UZPWnTHXvXhYK3y27MiryCEKqzUyS')
rsconnect::setAccountInfo(name='h2r-bkf-mali-ner', token='F287EC0E9F5F6BFABEF2760F89EFAD99', secret='BvDdtNJIr74UZPWnTHXvXhYK3y27MiryCEKqzUyS')
rsconnect::deployApp(".",account = "h2r-bkf-mali-ner")
usethis::use_description()
usethis::use_description()
usethis::use_description()
devtools::load_all()
devtools::load_all()
H2R_HSM()
usethis::use_package("shiny")
devtools::load_all()
H2R_HSM()
readr::type_convert
stringi::ch
stringr::ch
devtools::load_all()
devtools::load_all()
usethis::use_package("shiny")
usethis::use_package("shiny")
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
prepdata
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
rsconnect::deployApp(appDir = ".")
rsconnect::deployApp(appDir = ".",account = "h2r-bkf-mali-ner")
rsconnect::deployApp(appDir = ".",account = "h2r-bkf-mali-ner")
rsconnect::deployApp(appDir = ".",account = "h2r-bkf-mali-ner")
devtools::load_all()
H2R_HSM()
rsconnect::deployApp(appDir = ".",account = "h2r-bkf-mali-ner")
devtools::load_all()
H2R_HSM()
rsconnect::deployApp(appDir = ".",account = "h2r-bkf-mali-ner")
rsconnect:::systemInfo
system("systeminfo /FO csv", intern = TRUE, wait = TRUE)
raw<-system("systeminfo /FO csv", intern = TRUE, wait = TRUE)
info_csv<-readr::read_csv(raw)
View(info_csv)
locale <- as.character(info_csv[[20]])
locale
strsplit(unlist(strsplit(locale, ";", fixed=TRUE)), "-", fixed=TRUE)
rm(info_csv)
rm(locale)
rm(raw)
rsconnect::setAccountInfo(name='hedi-benmustapha', token='F287EC0E9F5F6BFABEF2760F89EFAD99', secret='BvDdtNJIr74UZPWnTHXvXhYK3y27MiryCEKqzUyS')
rsconnect::deployApp(".")
rsconnect::deployApp(".", account = "hedi-benmustapha")
Sys.getlocale()
paste0("../","hedi")
devtools::load_all()
H2R_HSM()
rsconnect::deployApp(".", account = "hedi-benmustapha")
Sys.setlocale
Sys.setlocale()
Sys.setlocale("LC_ALL")
Sys.setlocale("LC_ALL","Arabic","en_US")
Sys.setlocale(category = "LC_ALL",locale = c("Arabic","French","en_US"))
Sys.setlocale(category = "LC_ALL",locale = c("Arabic","French","en_US"))
Sys.setlocale(locale = "French")
rsconnect::deployApp(".", account = "hedi-benmustapha")
Sys.setlocale(category = "LC_ALL",locale = "en_US")
Sys.setlocale(category = "LC_ALL",locale = "ENGLISH")
rsconnect::deployApp(".", account = "hedi-benmustapha")
Sys.setlocale(category = "LC_ALL",locale = "ENGLISH")
Sys.setlocale(category = "LC_ALL")
rsconnect::deployApp(".", account = "hedi-benmustapha")
readRenviron("/etc/default/locale")
Sys.getenv("LANG")
rsconnect::deployApp(".", account = "hedi-benmustapha")
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
??read_csv
devtools::load_all()
H2R_HSM()
tools::file_ext("heid.csv")
tools::file_ext("heid.csccv")
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
rsconnect::deployApp(".", account = "hedi-benmustapha")
raw <- system("systeminfo /FO csv", intern = TRUE, wait = TRUE)
raw
info.csv <- read.csv(textConnection(raw))
info_csv <- readr::read_csv(raw)
locale <- as.character(info_csv[[20]])
locale
strsplit(unlist(strsplit(locale, ";", fixed=TRUE)), "-", fixed=TRUE)
info.csv.txt <- read.csv(text = raw)
locale <- as.character(info.csv.txt[[20]])
locale
strsplit(unlist(strsplit(locale, ";", fixed=TRUE)), "-", fixed=TRUE)
readr::guess_encoding(raw)
stringi::stri_enc_detect(raw)
stringi::stri_enc_detect2(raw, locale = "fr")
raw <- system("systeminfo /FO csv", intern = TRUE, wait = TRUE)
info.csv <- read.csv(textConnection(raw))
info_csv <- readr::read_csv(raw)
locale <- as.character(info_csv[[20]])
rsconnect::deployApp(".", account = "hedi-benmustapha")
raw <- system("systeminfo /FO csv", intern = TRUE, wait = TRUE)
info_csv <- readr::read_csv(raw)
locale <- as.character(info_csv[[20]])
strsplit(unlist(strsplit(locale, ";", fixed=TRUE)), "-", fixed=TRUE)
rsconnect::deployApp(".", account = "hedi-benmustapha")
rsconnect.locale
rsconnect::deployApp(".", account = "hedi-benmustapha",launch.browser = F,forceUpdate = T)
locale
Sys.setlocale()
ui <- fluidPage(
titlePanel("3 FrontiÃ¨res (Burkina Faso / Mali / Niger)"),
sidebarLayout(
sidebarPanel(
fileInput("db", "RAW DATASET/ DONNEES BRUTES (.csv or .xlsx)", accept = c(".csv",".xlsx","xls")),
tags$hr(),
fileInput("questionnaire", "Questionnaire EXCEL workbook", accept = c(".xlsx","xls")),
tags$hr(),
actionButton("check", "Check DATA"),
tags$hr(),
downloadButton("dwclog", "Download Cleaning LOG")
)
,
mainPanel(
dataTableOutput("preview"))
)
)
library(shiny)
devtools::load_all()
rsconnect::deployApp(".", account = "hedi-benmustapha",launch.browser = F,forceUpdate = T)
rsconnect::setAccountInfo(name='impact-initiatives', token='11DD403157B7AB29776E9AB41E4FB925', secret='Ur5QrBXJr7JAzcxfIuyMJ+Pxj+ZO3qdXEnPZGPt8')
rsconnect::deployApp(".", account = "impact-initiatives")
shiny::runApp(display.mode = "showcase")
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
rsconnect::deployApp(".", account = "impact-initiatives",forceUpdate = T)
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
HSM_H2R()
devtools::load_all()
usethis::use_description()
devtools::load_all()
H2R_HSM()
db<-read.csv("../3F/db3f.csv",stringsAsFactors = F)
db<-read.csv("../3F/3fdb.csv",stringsAsFactors = F)
db<-read.csv("../3F/3fdb.csv",stringsAsFactors = F) %>% prepdata()
survey<-read_excel("../3F/REACH REG1903b 3F - Outil multisectoriel_2020-12_VF.xlsx",1)
choices<-read_excel("../3F/REACH REG1903b 3F - Outil multisectoriel_2020-12_VF.xlsx",2)
time_check<-survey_tonext_check(db)
debugonce(survey_tonext_check)
time_check<-survey_tonext_check(db)
list_byenum <- df %>% split(.$global_enum_id) %>% purrr::map(~.[order(.$start),])
H2R_HSM()
time_check<-survey_tonext_check(db)
db<-read.csv("../3F/3fdb.csv",stringsAsFactors = F) %>% prepdata()
time_check<-survey_tonext_check(db)
H2R_HSM()
db<-read.csv("../3F/3fdb.csv",stringsAsFactors = F) %>% prepdata()
time_check<-survey_tonext_check(db)
autre_check<-other_check(db,survey)
logbook<-apply_checks(db)
debugonce(apply_checks)
logbook<-apply_checks(db)
logbook<-data.frame(
today=character(),
base= character(),
enumerator= character(),
uuid= character(),
question.name = character(),
old.value = character(),
new.value = character(),
if.other.text.entry = character(),
other.text.var = character(),
probleme = character(),
checkid= character(),
action=character()
)
sm_autre <- names(db)[grep(".[.]autre", names(db))]
sm_nsp <- names(db)[grep(".[.](nsp|ne_sait_pas|je_ne_sais_pas)", names(db))]
sm_dwta <- names(db)[grep(".[.](prefere_pas|ne_souhaite_pas_repondre|je_prefere_ne_pas_repondre|sans_reponse)", names(db))]
# new variables
data<-db
data$difftime<-calc_duration(data)
##Transversal (nsp)
data$nb_nsp <-apply(data,1,function(x) {grep("nsp|ne_sait_pas|je_ne_sais_pas",x) %>%  unlist %>% length}) +apply(data[sm_nsp],1,sum,na.rm=T)
apply(data,1,function(x) {grep("nsp|ne_sait_pas|je_ne_sais_pas",x) %>%  unlist %>% length})
data[sm_nsp]
apply(data[sm_nsp],1,sum,na.rm=T)
sm_nsp
usethis::use_package("dplyr","Depends")
usethis::use_package("lubridate","Depends")
usethis::use_package("purrr","Depends")
usethis::use_package("readr","Depends")
usethis::use_package("readxl","Depends")
usethis::use_package("shiny","Depends")
usethis::use_package("stringr","Depends")
devtools::load_all()
devtools::load_all()
warnings()
devtools::load_all()
warnings()
devtools::check()
H2R_HSM()
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
usethis::use_description()
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
devtools::load_all()
devtools::check()
devtools::load_all()
H2R_HSM()
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
rsconnect::deployApp(".", account = "hedi-benmustapha",forceUpdate = T)
H2R_HSM()
usethis::use_description()
devtools::load_all()
H2R_HSM()
setNames(c("a","b"),c("A","B"))
setNames(c("a","b"),c("A","B"))[1]
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
??selectInput
devtools::load_all()
??selectInput
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
H2R_HSM()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
H2R_HSM()
db<-read.csv("../NER_HSM/3f.csv",stringsAsFactors = F)
time_check<-survey_tonext_check(db
)
View(time_check)
debugonce(survey_tonext_check)
time_check<-survey_tonext_check(db)
list_byenum <- df %>% split(.$global_enum_id) %>% purrr::map(~.[order(.$start),])
View(list_byenum)
db<-read.csv("../NER_HSM/3f.csv",stringsAsFactors = F) %>% prepdata()
prepdata
cleanheaders
db<-prepdata()
db<-db%>%prepdata()
names(db)<-gsub("^_","",names(db))
db<-read_excel("../NER_HSM/REACH_REG1903b_3F_-_Outil_multisectoriel_2020-12_VF.XLSX_-_all_versions_-_False_-_2021-01-27-07-47-22)
)
db<-read_excel("../NER_HSM/REACH_REG1903b_3F_-_Outil_multisectoriel_2020-12_VF.XLSX_-_all_versions_-_False_-_2021-01-27-07-47-22")
db<-read_excel("../NER_HSM/REACH_REG1903b_3F_-_Outil_multisectoriel_2020-12_VF.XLSX_-_all_versions_-_False_-_2021-01-27-07-47-22.xlsx")
db<-prepdata(db)
gsub("^X_","",c("X_uuid","X_submisison"))
gsub("^X_","",c("X_uuid","X_submisison","hedi_hdhd","_djdhd","hdhdh_"))
devtools::load_all()
db<-read.csv("../NER_HSM/3f.csv",stringsAsFactors = F)
time_check<-survey_tonext_check(db)
View(time_check)
db<-read.csv("../NER_HSM/3f.csv",stringsAsFactors = F)%>%prepdata()
time_check<-survey_tonext_check(db)
View(time_check)
autre_check<-other_check(db,survey)
View(autre_check)
logbook<-apply_checks(db)
clog<-bind_rows(logbook,time_check,autre_check)
devtools::load_all()
H2R_HSM()
db<-read_excel("../NER_HSM/REACH_REG1903b_3F_-_Outil_multisectoriel_2020-12_VF.XLSX_-_all_versions_-_False_-_2021-01-27-07-47-22.xlsx")
time_check<-survey_tonext_check(db)
View(time_check)
db<-read_excel("../NER_HSM/REACH_REG1903b_3F_-_Outil_multisectoriel_2020-12_VF.XLSX_-_all_versions_-_False_-_2021-01-27-07-47-22.xlsx")%>%prepdata()
db<-read_excel("../NER_HSM/REACH_REG1903b_3F_-_Outil_multisectoriel_2020-12_VF.XLSX_-_all_versions_-_False_-_2021-01-27-07-47-22.xlsx")
prepdata()
prepdata
cleanheaders
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
H2R_HSM()
list(fileSize=floor(runif(1) * 10000))
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
??singleton4
??singleton
install.packages("shinyjs")
devtools::load_all()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
H2R_HSM()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
??singleton
devtools::load_all()
devtools::load_all()
devtools::load_all()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
H2R_HSM()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
devtools::load_all()
devtools::load_all()
H2R_HSM()
devtools::load_all()
H2R_HSM()
H2R_HSM()
